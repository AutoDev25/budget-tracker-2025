services:
  # Backend API Service (Free Tier)
  - type: web
    name: budget-tracker-api
    runtime: python
    buildCommand: "pip install -r backend/requirements.txt"
    startCommand: "cd backend && python main_simple.py"
    disk:
      name: budget-tracker-api-disk
      mountPath: /tmp
      sizeGB: 1
    
  # Frontend Static Site (Always Free)
  - type: web
    name: budget-tracker-frontend
    runtime: static
    buildCommand: "cd frontend && npm install && npm run build"
    staticPublishPath: ./frontend/dist
    routes:
      - type: rewrite
        source: /*
        destination: /index.html